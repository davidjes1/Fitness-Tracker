<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Training Tracker</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="header">
        <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
            <div>
                <h1>âš¡ Training Tracker</h1>
                <span class="phase-badge" id="currentPhase">Phase 1: Foundation</span>
            </div>
            <div id="authContainer">
                <button class="btn btn-small" id="authBtn" style="display: none;">Sign In Anonymously</button>
                <span id="userInfo" style="display: none; color: var(--text-secondary); font-size: 0.9rem;"></span>
            </div>
        </div>
    </div>
    
    <div class="nav-tabs">
        <div class="nav-tab active" data-view="log">Log Workout</div>
        <div class="nav-tab" data-view="history">History</div>
        <div class="nav-tab" data-view="progress">Progress</div>
        <div class="nav-tab" data-view="stats">Stats</div>
    </div>
    
    <div class="content">
        <!-- Log Workout View -->
        <div class="view active" id="log">
            <div class="card">
                <div class="card-header">
                    <span>New Workout</span>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Workout Type</label>
                    <select class="form-input" id="workoutType">
                        <option value="strength">Strength Training</option>
                        <option value="cardio">Cardio/Tri Maintenance</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Date</label>
                    <input type="date" class="form-input" id="workoutDate">
                </div>
                
                <div id="strengthFields">
                    <div class="form-group">
                        <label class="form-label">Workout Template</label>
                        <select class="form-input" id="workoutTemplate">
                            <option value="">Custom Workout</option>
                            <option value="workoutA">Workout A (Squat/Bench/Row)</option>
                            <option value="workoutB">Workout B (Deadlift/Press/Pull)</option>
                        </select>
                    </div>
                    
                    <div id="exercisesContainer"></div>
                    
                    <button class="btn btn-secondary" id="addExerciseBtn">+ Add Exercise</button>
                </div>
                
                <div id="cardioFields" style="display: none;">
                    <div class="form-group">
                        <label class="form-label">Activity</label>
                        <select class="form-input" id="cardioActivity">
                            <option value="run">Run</option>
                            <option value="bike">Bike</option>
                            <option value="swim">Swim</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Duration (minutes)</label>
                        <input type="number" class="form-input" id="cardioDuration" placeholder="30">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Distance (optional)</label>
                        <input type="text" class="form-input" id="cardioDistance" placeholder="5k, 10mi, 1000m">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Avg Heart Rate (optional)</label>
                        <input type="number" class="form-input" id="cardioHR" placeholder="145">
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Notes</label>
                    <textarea class="form-input" id="workoutNotes" placeholder="How did you feel? Any pain/discomfort? Energy levels?"></textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Recovery Score (1-10)</label>
                    <input type="number" class="form-input" id="recoveryScore" min="1" max="10" placeholder="7">
                </div>
                
                <button class="btn" id="saveWorkoutBtn">Save Workout</button>
            </div>
        </div>
        
        <!-- History View -->
        <div class="view" id="history">
            <div class="card">
                <div class="card-header">
                    <span>Workout History</span>
                </div>
                <div id="historyContainer"></div>
            </div>
        </div>
        
        <!-- Progress View -->
        <div class="view" id="progress">
            <div class="card">
                <div class="card-header">
                    <span>Progress Tracking</span>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Current Weight (lbs)</label>
                    <input type="number" step="0.1" class="form-input" id="weightEntry" placeholder="185.5">
                </div>
                
                <button class="btn btn-secondary" id="addWeightBtn">Log Weight</button>
                
                <div id="weightHistory" style="margin-top: 2rem;"></div>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <span>Lift Progress</span>
                </div>
                <div id="liftProgressContainer"></div>
            </div>
        </div>
        
        <!-- Stats View -->
        <div class="view" id="stats">
            <div class="stats-grid" id="statsGrid"></div>
            
            <div class="card">
                <div class="card-header">
                    <span>Weekly Summary</span>
                </div>
                <div id="weeklySummary"></div>
            </div>
        </div>
    </div>
    
    <!-- Workout Detail Modal -->
    <div class="modal" id="workoutModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">Workout Details</h2>
                <button class="close-btn" id="closeModalBtn">&times;</button>
            </div>
            <div id="modalBody"></div>
            <div class="btn-group" style="margin-top: 1.5rem;">
                <button class="btn btn-danger btn-small" id="deleteWorkoutBtn">Delete Workout</button>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>

    <!-- Firebase Configuration -->
    <script src="firebase-config.js"></script>

    <!-- Application Code -->
    <script src="app.js"></script>

</body>
</html>
